{"version":3,"sources":["App.js","utils/api.js","reportWebVitals.js","index.js"],"names":["App","useState","searchTerm","setSearchTerm","results","setResults","formatResults","res","formattedData","map","item","data","hits","arrayItem","arrayObject","id","created","publication_date","company","employer","name","company_url","application_details","url","location","workplace_address","municipality","job_title","headline","job_description","description","text","apply_url","webpage_url","push","display_name","redirect_url","title","strippTags","originalString","replace","className","onSubmit","e","preventDefault","options","headers","results1","axios","get","results2","Promise","all","then","formatted","type","placeholder","onChange","target","value","sortedList","orderBy","sortData","Object","keys","key","Date","toLocaleDateString","rel","href","renderResults","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.18c1f8a2.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { \n  API_URL_1,\n  API_URL_2, \n  API_KEY_1,\n  API_KEY_2, \n  API_ID\n} from '../src/utils/api';\nimport axios from 'axios';\nimport { orderBy } from 'lodash';\nimport './App.css';\n\nconst App = () => {\n  const [searchTerm, setSearchTerm] = useState(''); \n  const [results, setResults] = useState({});\n\n  const handleSubmit = (e) => {\n    e.preventDefault(); \n    if(!searchTerm) return;\n\n    const options = {\n      headers: {\n        'accept': 'application/json',\n        'api-key': API_KEY_1\n      }\n    }\n\n    const results1 = axios.get(`${API_URL_1}/search?q=${searchTerm}`, options);\n    const results2 = axios.get(`${API_URL_2}?app_id=${API_ID}&app_key=${API_KEY_2}&what=${searchTerm}&content-type=application/jsons`);\n\n    Promise.all([results1, results2]).then(res => {\n      if(res) {\n        let formatted = formatResults(res); \n        setResults(formatted);\n      }\n    })\n    setSearchTerm('');\n  }\n\n  // Format API results in a unified way before pushing into State\n  const formatResults = (res) => {\n    let formattedData = [];\n\n    res.map(item => {\n      if(item.data && item.data.hits) {\n        item.data.hits.map(arrayItem => {\n          let arrayObject = {\n            id: arrayItem.id,\n            created: arrayItem.publication_date,\n            company: arrayItem.employer.name,\n            company_url: arrayItem.application_details.url,\n            location: arrayItem.workplace_address.municipality,\n            job_title: arrayItem.headline,\n            job_description: arrayItem.description.text,\n            apply_url: arrayItem.webpage_url\n          }\n          return formattedData.push(arrayObject);\n        })\n      }\n      if(item.data && item.data.results) {\n        item.data.results.map(arrayItem => {\n          let arrayObject = {\n            id: arrayItem.id,\n            created: arrayItem.created,\n            company: arrayItem.company.display_name,\n            company_url: arrayItem.redirect_url,\n            location: arrayItem.location.display_name,\n            job_title: arrayItem.title,\n            job_description: arrayItem.description,\n            apply_url: arrayItem.redirect_url\n          }\n          return formattedData.push(arrayObject);\n        })\n        return formattedData;\n      }\n      return formattedData;\n    })\n    return formattedData;\n  }\n\n\n  // Sort jobs ads based on publication date \n  const sortData = (results) => {\n    let sortedList = orderBy(results, ['created'], ['desc']);\n    return sortedList; \n  }\n\n  // Strip HTML Tags from text\n  const strippTags = (originalString) => {\n    let strippedString = originalString.replace(/(<([^>]+)>)/gi, \"\");\n    return strippedString;\n  }\n\n  // Render Method\n  const renderResults = (results) => {\n    const sortedList = sortData(results); \n    \n    return (\n      Object.keys(sortedList).map(key => {\n        const item = sortedList[key];\n         return(\n           <li className=\"item-container\" key={item.id}>\n            <div className=\"item-container__title\">{strippTags(item.job_title)}</div>\n            <div className=\"item-container__category\">\n              <span className=\"item-container__category__label\">Published:</span> {new Date (item.created).toLocaleDateString('se-SE')}\n            </div>\n            <div className=\"item-container__category\">\n              <span className=\"item-container__category__label\">Company:</span> {item.company}\n            </div>\n            <div className=\"item-container__category\">\n              <span className=\"item-container__category__label\">Company url:</span> <a target=\"_blank\" rel=\"noopener noreferrer\" href={item.company_url}>{item.company_url}</a>\n            </div>\n            <div className=\"item-container__category\">\n              <span className=\"item-container__category__label\">Location:</span> {item.location} \n            </div>\n            <div className=\"item-container__category\">\n              <span className=\"item-container__category__label\">Job description:</span> {strippTags(item.job_description)}</div>\n            <div className=\"item-container__category\">\n              <span className=\"item-container__category__label\">Apply url:</span> <a target=\"_blank\" rel=\"noopener noreferrer\" href={item.apply_url}>{item.apply_url}</a>\n            </div>\n          </li>\n         ) \n      })\n    )\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"page-grid\">\n        <h1 className=\"headline\">Job ads aggregator</h1>\n        <section className=\"search\">\n          <form onSubmit={handleSubmit} className=\"search-form\">\n            <input \n              type=\"text\" \n              className=\"search-input\"\n              placeholder=\"Enter search term\"\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n            <input \n              type=\"submit\" \n              className=\"submit-button\"\n              value=\"Search\"\n            />\n          </form>\n        </section>\n        <section className=\"results\">\n          <ul>\n            {results && renderResults(results)}\n          </ul>\n        </section>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// API credentials\n\nconst API_URL_1 = 'https://jobsearch.api.jobtechdev.se/'; \nconst API_URL_2 = 'https://api.adzuna.com/v1/api/jobs/gb/search/1';\nconst API_KEY_1 = 'YidXMVx4YTVceDAzXlBceGE1K1x4MTNqRnRceDkwXHhjMFx4YjhTe1x4YWVceDE1MSc';\nconst API_KEY_2 = '535be9d711989a3988a14939c8fb9d7d';\nconst API_ID = '5605d2ee';\n\nexport {\n  API_URL_1,\n  API_URL_2,\n  API_KEY_1,\n  API_KEY_2,\n  API_ID \n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}